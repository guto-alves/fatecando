<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org" th:replace="~{fragments/layout :: base('Teste', ~{::body}, _, _, _)}">

<head>
	<meta charset="utf-8">
</head>

<body>
	<div class="container">
		<div id="test-result-container" class="card mt-3 border border-1 border-secondary" style="display: none;">
			<div class="card-body text-center">
				<h4 class="card-title">Resultado do Teste</h4>

				<h2 id="ponctuation" class="text-success fw-bolder">3/3</h2>

				<p>
					<b>Tempo Total</b> = 10:56
				</p>

				<form action="#" method="post" th:action="@{/test}">
					<button type="submit" class="btn btn-secondary mt-3"
						th:text="|Finalizar e voltar para ${test.subject.name}|">Finalizar e voltar para Banco de
						Dados</button>
				</form>
			</div>
		</div>

		<div class="card mt-3 shadow">
			<h4 class="card-header text-center" th:text="${test.name}">Name</h4>

			<div class="card-body">
				<div class="question" th:each="question : ${test.questions}" th:data-id="${question.id}">
					<span class="fw-bold" th:id="${questionStat.count}" th:text="|${questionStat.count}.|"></span>

					<div class="question-editor mb-3" th:utext="${question.description}"></div>

					<div class="alternative mb-3" th:each="alternative : ${question.alternatives}">
						<div class="form-check">
							<input class="form-check-input" type="radio" th:value="${alternative.id}"
								th:name="${question.id}" required>
							<label class="form-check-label" th:text="${alternative.description}">Alternative</label>
						</div>
					</div>

					<div th:unless="${questionStat.last}" class="border border-bottom border-1 my-3 m-3"></div>
				</div>
			</div>
		</div>

		<div class="d-grid gap-2 col-6 mx-auto mt-4">
			<button id="finishTest" class="btn btn-primary fw-bold">Conferir respostas</button>
		</div>

		<div class="text-center">
			<div id="spinner" class="spinner-border text-danger" style="width: 6rem; height: 6rem; display: none;"
				role="status">
				<span class="visually-hidden">Aguarde...</span>
			</div>
		</div>
	</div>

	<script th:src="@{/js/quill-utils.js}"></script>
	<script th:src="@{/js/test.js}"></script>
</body>

</html>